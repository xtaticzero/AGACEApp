<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
        xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:pe="http://primefaces.org/ui/extensions">
    <html xmlns="http://www.w3.org/1999/xhtml">
        <p:fieldset id="fsUnidadXModulo" legend="Unidades Administrativas Por Módulo" toggleable="true" toggleSpeed="500" collapsed="true">
            <h:panelGrid>
                <p:commandButton id="btnAgregarUnidades"
                                 actionListener="#{catalogManagerMB.agregarUnidades}"
                                 onsuccess="PF('dlgAddUnidades').show();"
                                 value="Agregar Unidades Administrativas" 
                                 icon="ui-icon-extlink"
                                 update=":formUnidadXGeneral:selectModulo :formUnidadXGeneral:pickListUnidadModulo"/>
                <p:dataTable id="tblUnidadXModulo" 
                             var="unidadModulo" 
                             value="#{catalogManagerMB.lstModuloUnidadesAdmin}" 
                             editable="false" 
                             emptyMessage="#{msj['label.lista.vacia']}" 
                             paginator="true" rows="5" paginatorTemplate="Página: {CurrentPageReport} {FirstPageLink} {PreviousPageLink} &amp;nbsp; Ir a página: {JumpToPageDropdown} &amp;nbsp; {NextPageLink} {LastPageLink}"
                             currentPageReportTemplate="({currentPage} de {totalPages})"
                             paginatorPosition="bottom"
                             style="margin-bottom:20px">
                    <f:facet name="header">
                        Unidades Administrativas Por Módulo
                    </f:facet>

                    <p:column headerText="Módulo">
                        <h:outputText value="#{unidadModulo.modulo.nombre}" />
                    </p:column>

                    <p:column headerText="Unidad Administrativa">
                        <h:outputText value="#{unidadModulo.unidadAdministrativa.nombre}" />
                    </p:column>

                </p:dataTable> 
                
            </h:panelGrid>
        </p:fieldset>
    </html>
</f:view>